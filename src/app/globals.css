
@custom-variant dark (&:is(.dark *));

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
  /* Hide scrollbars while keeping scroll functionality */
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none; /* Chrome, Safari */
  }

  /* ─── Elevation Scale (Dual-Shadow Presets) ────────────────────────────── */
  .elev-0 {
    box-shadow: none;
  }

  .elev-1 {
    box-shadow:
      0 1px 2px rgba(0, 0, 0, 0.10),
      0 1px 1px rgba(0, 0, 0, 0.06);
  }

  .elev-2 {
    box-shadow:
      0 4px 8px rgba(0, 0, 0, 0.10),
      0 2px 4px rgba(0, 0, 0, 0.08);
  }

  .elev-3 {
    box-shadow:
      0 10px 20px rgba(0, 0, 0, 0.14),
      0 4px 8px rgba(0, 0, 0, 0.10);
  }

  .elev-4 {
    box-shadow:
      0 20px 40px rgba(0, 0, 0, 0.22),
      0 8px 16px rgba(0, 0, 0, 0.12);
  }

  /* Dark mode: subtler shadows */
  .dark .elev-1 {
    box-shadow:
      0 1px 2px rgba(0, 0, 0, 0.25),
      0 1px 1px rgba(0, 0, 0, 0.15);
  }

  .dark .elev-2 {
    box-shadow:
      0 4px 8px rgba(0, 0, 0, 0.25),
      0 2px 4px rgba(0, 0, 0, 0.18);
  }

  .dark .elev-3 {
    box-shadow:
      0 10px 20px rgba(0, 0, 0, 0.30),
      0 4px 8px rgba(0, 0, 0, 0.20);
  }

  .dark .elev-4 {
    box-shadow:
      0 20px 40px rgba(0, 0, 0, 0.40),
      0 8px 16px rgba(0, 0, 0, 0.25);
  }

  /* ─── Sunken Effect (Inner Shadows) ────────────────────────────────────── */
  .sunken {
    box-shadow:
      inset 0 1px 1.5px rgba(255, 255, 255, 0.12),
      inset 0 -1px 1.5px rgba(0, 0, 0, 0.25);
    background: hsl(var(--muted));
  }

  .dark .sunken {
    box-shadow:
      inset 0 1px 1.5px rgba(255, 255, 255, 0.05),
      inset 0 -1px 1.5px rgba(0, 0, 0, 0.35);
  }

  /* ─── Deep Inset Effect ──────────────────────────────────────────────────── */
  .inset-deep {
    box-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.1),
      inset 0 4px 8px rgba(0, 0, 0, 0.06);
  }

  .dark .inset-deep {
    box-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.3),
      inset 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  /* ─── Subtle Gloss (Optional for CTAs) ─────────────────────────────────── */
  .gloss {
    background:
      linear-gradient(to bottom, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0)),
      hsl(var(--card));
  }

  .dark .gloss {
    background:
      linear-gradient(to bottom, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0)),
      hsl(var(--card));
  }

  /* ─── 3-Layer Surface System ───────────────────────────────────────────── */
  .surface-bottom {
    background: hsl(var(--background));
  }

  .surface-middle {
    background: hsl(var(--muted));
  }

  .surface-top {
    background: hsl(var(--card));
  }

  /* ─── Inner Glow for Interactive Elements ──────────────────────────────── */
  .inner-glow {
    box-shadow: inset 0 0 20px hsl(var(--primary) / 0.1);
  }

  .dark .inner-glow {
    box-shadow: inset 0 0 20px hsl(var(--primary) / 0.15);
  }

  /* ─── Gradient Borders ──────────────────────────────────────────────────── */
  .gradient-border {
    position: relative;
    background: hsl(var(--card));
    border: 1px solid transparent;
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    opacity: 0.3;
  }

  .dark .gradient-border::before {
    opacity: 0.4;
  }

  /* ─── Gradient Border Hover ─────────────────────────────────────────────── */
  .gradient-border-hover {
    position: relative;
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
  }

  .gradient-border-hover::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--accent)) 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .gradient-border-hover:hover::before {
    opacity: 0.5;
  }

  .dark .gradient-border-hover:hover::before {
    opacity: 0.6;
  }

  /* ─── Accent Line ───────────────────────────────────────────────────────── */
  .accent-line {
    position: relative;
    padding-left: 1.25rem;
  }

  .accent-line::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(to bottom, hsl(var(--primary)), hsl(var(--accent)));
    border-radius: 9999px;
  }

  /* ─── Shimmer Effect ────────────────────────────────────────────────────── */
  @keyframes shimmer {
    0% {
      background-position: -200% center;
    }
    100% {
      background-position: 200% center;
    }
  }

  .shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 3s infinite;
  }

  .dark .shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.05) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
  }

  /* ─── Glass Effect ──────────────────────────────────────────────────────── */
  .glass {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .dark .glass {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.05);
  }

  /* ─── Spotlight Effect ──────────────────────────────────────────────────── */
  .spotlight {
    position: relative;
    overflow: hidden;
  }

  .spotlight::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(
      circle,
      rgba(255, 255, 255, 0.1) 0%,
      transparent 70%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  .spotlight:hover::after {
    opacity: 1;
  }

  .dark .spotlight::after {
    background: radial-gradient(
      circle,
      rgba(255, 255, 255, 0.05) 0%,
      transparent 70%
    );
  }

  /* ─── Mesh Gradient Background ──────────────────────────────────────────── */
  .mesh-gradient {
    background:
      radial-gradient(at 27% 37%, hsl(var(--primary) / 0.05) 0px, transparent 50%),
      radial-gradient(at 97% 21%, hsl(var(--secondary) / 0.05) 0px, transparent 50%),
      radial-gradient(at 52% 99%, hsl(var(--accent) / 0.03) 0px, transparent 50%),
      radial-gradient(at 10% 29%, hsl(var(--primary) / 0.04) 0px, transparent 50%),
      radial-gradient(at 97% 96%, hsl(var(--accent) / 0.04) 0px, transparent 50%);
  }

  /* ─── Bordered Glow ─────────────────────────────────────────────────────── */
  .bordered-glow {
    position: relative;
  }

  .bordered-glow::before {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg,
      hsl(var(--primary)) 0%,
      hsl(var(--accent)) 50%,
      hsl(var(--secondary)) 100%
    );
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .bordered-glow:hover::before {
    opacity: 0.6;
  }

  /* ─── Text Gradient ─────────────────────────────────────────────────────── */
  .text-gradient {
    background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ─── Floating Animation ────────────────────────────────────────────────── */
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .float {
    animation: float 6s ease-in-out infinite;
  }

  /* ─── Pulse Glow ────────────────────────────────────────────────────────── */
  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 20px hsl(var(--primary) / 0.1);
    }
    50% {
      box-shadow: 0 0 30px hsl(var(--primary) / 0.2);
    }
  }

  .pulse-glow {
    animation: pulse-glow 3s ease-in-out infinite;
  }

  /* ─── Editorial Section Wrappers ─────────────────────────────────────── */
  .section-dark {
    background: hsl(var(--section-dark));
    color: hsl(var(--section-dark-fg));
  }

  .section-wine {
    background: hsl(var(--section-wine));
    color: hsl(var(--section-wine-fg));
  }

  .section-navy {
    background: hsl(var(--section-navy));
    color: hsl(var(--section-navy-fg));
  }

  .section-cream {
    background: hsl(var(--section-cream));
    color: hsl(var(--section-cream-fg));
  }

  /* ─── Editorial Rules (print-inspired separators) ────────────────────── */
  .editorial-rule {
    height: 1px;
    background: hsl(var(--editorial-rule));
  }

  .editorial-rule-double {
    height: 0;
    border-top: 3px solid hsl(var(--editorial-rule));
    border-bottom: 1px solid hsl(var(--editorial-rule));
    padding-top: 4px;
  }

  .editorial-rule-thick {
    height: 4px;
    background: hsl(var(--editorial-rule));
  }

  .editorial-rule-dashed {
    height: 0;
    border-top: 1px dashed hsl(var(--editorial-rule-subtle));
  }

  /* ─── Pull Quote (editorial blockquote treatment) ────────────────────── */
  .pullquote {
    position: relative;
    padding: 2rem 2.5rem;
    background: hsl(var(--pullquote-bg));
    border-left: 4px solid hsl(var(--primary));
    border-radius: var(--radius);
  }

  .pullquote::before {
    content: '\201C';
    font-family: var(--font-teko), 'Teko', sans-serif;
    font-size: 6rem;
    line-height: 1;
    position: absolute;
    top: -0.5rem;
    left: 1rem;
    color: hsl(var(--primary) / 0.15);
    pointer-events: none;
  }

  /* ─── Display Number (oversized editorial watermark) ─────────────────── */
  .display-number {
    font-family: var(--font-teko), 'Teko', sans-serif;
    font-weight: 700;
    font-size: 8rem;
    line-height: 0.8;
    color: hsl(var(--number-display) / 0.07);
    position: absolute;
    top: -0.5rem;
    right: 1rem;
    pointer-events: none;
    user-select: none;
  }

  /* ─── Section Label (editorial labeling with line) ───────────────────── */
  .section-label {
    font-family: var(--font-teko), 'Teko', sans-serif;
    font-size: 0.6875rem;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }

  .section-label::before {
    content: '';
    display: inline-block;
    width: 1.5rem;
    height: 1px;
    background: currentColor;
    opacity: 0.4;
  }

  /* ─── Inset Panel (editorial callout box) ────────────────────────────── */
  .inset-panel {
    background: hsl(var(--pullquote-bg));
    border: 1px solid hsl(var(--border));
    padding: 1.5rem 2rem;
    position: relative;
    border-radius: var(--radius);
  }

  .inset-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, hsl(var(--primary)), hsl(var(--accent)));
    border-radius: var(--radius) var(--radius) 0 0;
  }
}

@layer base {
  :root {
    --background: 44 43% 92%; /* #F8F0DE */
    --foreground: 210 10% 14%; /* #1F2327 */
    --card: 44 100% 97%; /* #FFF8EC */
    --card-foreground: 210 10% 14%; /* #1F2327 */
    --popover: 44 100% 97%; /* #FFF8EC */
    --popover-foreground: 210 10% 14%; /* #1F2327 */
    --primary: 350 76% 52%; /* #E22645 */
    --primary-foreground: 0 0% 100%; /* #FFFFFF */
    --secondary: 30 40% 22%; /* #4A3218 */
    --secondary-foreground: 44 43% 92%; /* #F8F0DE */
    --muted: 38 30% 85%; /* #DDD0B8 */
    --muted-foreground: 30 20% 38%; /* #6B5A42 */
    --accent: 350 60% 90%; /* #F5D0D6 */
    --accent-foreground: 210 10% 14%; /* #1F2327 */
    --destructive: 348 74% 45%; /* #C81E3F */
    --destructive-foreground: 0 0% 100%; /* #FFFFFF */
    --border: 35 25% 75%; /* #CBBFA8 */
    --input: 38 30% 85%; /* #DDD0B8 */
    --ring: 350 76% 52%; /* #E22645 */
    --radius: 0.5rem;

    --accent-royal: 235 86% 65%; /* #5865F2 */
    --accent-royal-foreground: 0 0% 100%; /* #FFFFFF */

    --success: 140 59% 30%; /* #1F7A3E */
    --success-text: 140 59% 30%; /* #1F7A3E */
    --success-foreground: 0 0% 100%; /* #FFFFFF */

    --info: 212 100% 39%; /* #005EC7 */
    --info-text: 212 100% 39%; /* #005EC7 */
    --info-foreground: 0 0% 100%; /* #FFFFFF */

    --warning: 39 100% 30%; /* #9A6400 */
    --warning-text: 39 100% 30%; /* #9A6400 */
    --warning-foreground: 0 0% 100%; /* #FFFFFF */

    --platform-spotify: 141 73% 42%; /* #1DB954 */
    --platform-apple-music: 353 96% 56%; /* #FA233B */
    --platform-youtube: 0 100% 50%; /* #FF0000 */
    --platform-tidal: 217 91% 60%; /* #3B82F6 */
    --platform-deezer: 20 100% 61%; /* #FF6B3D */
    --platform-foreground: 0 0% 100%; /* #FFFFFF */

    --chart-1: 350 76% 52%;
    --chart-2: 235 86% 65%;
    --chart-3: 39 100% 30%;
    --chart-4: 212 100% 39%;
    --chart-5: 38 30% 85%;

    --sidebar-background: 44 100% 97%;
    --sidebar-foreground: 210 10% 14%;
    --sidebar-primary: 350 76% 52%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 38 30% 85%;
    --sidebar-accent-foreground: 210 10% 14%;
    --sidebar-border: 35 25% 75%;
    --sidebar-ring: 350 76% 52%;

    /* ─── Editorial Section Backgrounds ─────────────────────────────────── */
    --section-dark: 210 10% 16%;           /* Deep charcoal #242930 */
    --section-dark-fg: 44 43% 92%;         /* Beige text on dark */
    --section-wine: 348 45% 22%;           /* Burgundy #522028 */
    --section-wine-fg: 44 43% 92%;         /* Beige text on wine */
    --section-navy: 220 40% 18%;           /* Deep navy #1B2740 */
    --section-navy-fg: 44 43% 92%;         /* Beige text on navy */
    --section-cream: 42 50% 95%;           /* Warm cream #FAF5EA */
    --section-cream-fg: 210 10% 14%;       /* Charcoal text on cream */
    --editorial-rule: 210 10% 14%;         /* Strong rule lines */
    --editorial-rule-subtle: 35 25% 65%;   /* Lighter rule lines */
    --pullquote-bg: 38 40% 90%;            /* Warm tint for pull-quotes */
    --number-display: 350 76% 52%;         /* Decorative numbers */
  }

  .dark {
    --background: 210 10% 14%; /* #1F2327 */
    --foreground: 44 43% 92%; /* #F8F0DE */
    --card: 210 10% 17%; /* #252A2F */
    --card-foreground: 44 43% 92%; /* #F8F0DE */
    --popover: 210 10% 17%; /* #252A2F */
    --popover-foreground: 44 43% 92%; /* #F8F0DE */
    --primary: 349 89% 65%; /* #F05070 */
    --primary-foreground: 0 0% 100%; /* #FFFFFF */
    --secondary: 210 8% 26%; /* #3A3F44 */
    --secondary-foreground: 44 43% 92%; /* #F8F0DE */
    --muted: 210 10% 19%; /* #2B3035 */
    --muted-foreground: 213 4% 61%; /* #9A9DA1 */
    --accent: 349 71% 25%; /* #6E1222 */
    --accent-foreground: 44 43% 92%; /* #F8F0DE */
    --destructive: 348 74% 45%; /* #C81E3F */
    --destructive-foreground: 0 0% 100%; /* #FFFFFF */
    --border: 213 7% 22%; /* #333740 */
    --input: 210 10% 19%; /* #2B3035 */
    --ring: 349 89% 65%; /* #F05070 */

    --accent-royal: 235 86% 65%; /* #5865F2 */
    --accent-royal-foreground: 0 0% 100%; /* #FFFFFF */

    --success: 140 59% 30%; /* #1F7A3E */
    --success-text: 143 66% 58%; /* #4DDB84 */
    --success-foreground: 0 0% 100%; /* #FFFFFF */

    --info: 212 100% 39%; /* #005EC7 */
    --info-text: 215 100% 74%; /* #7CB3FF */
    --info-foreground: 0 0% 100%; /* #FFFFFF */

    --warning: 39 100% 30%; /* #9A6400 */
    --warning-text: 41 100% 70%; /* #FFCF66 */
    --warning-foreground: 210 10% 14%; /* #1F2327 */

    --platform-spotify: 141 73% 42%;
    --platform-apple-music: 353 96% 56%;
    --platform-youtube: 0 100% 50%;
    --platform-tidal: 217 91% 60%;
    --platform-deezer: 20 100% 61%;
    --platform-foreground: 0 0% 100%;

    --chart-1: 349 89% 65%;
    --chart-2: 235 86% 65%;
    --chart-3: 39 100% 30%;
    --chart-4: 212 100% 39%;
    --chart-5: 210 10% 19%;

    --sidebar-background: 210 10% 17%;
    --sidebar-foreground: 44 43% 92%;
    --sidebar-primary: 349 89% 65%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 210 10% 19%;
    --sidebar-accent-foreground: 44 43% 92%;
    --sidebar-border: 213 7% 22%;
    --sidebar-ring: 349 89% 65%;

    /* ─── Editorial Section Backgrounds (inverted for dark mode) ────────── */
    --section-dark: 44 30% 88%;            /* Warm light cream */
    --section-dark-fg: 210 10% 14%;        /* Charcoal text on cream */
    --section-wine: 348 40% 82%;           /* Dusty rose #DEB5BA */
    --section-wine-fg: 210 10% 14%;        /* Dark text on rose */
    --section-navy: 220 30% 85%;           /* Soft steel blue #CCDAEA */
    --section-navy-fg: 210 10% 14%;        /* Dark text on blue */
    --section-cream: 210 10% 19%;          /* Dark surface */
    --section-cream-fg: 44 43% 92%;        /* Beige text on dark */
    --editorial-rule: 44 43% 92%;          /* Beige rule lines */
    --editorial-rule-subtle: 213 7% 35%;   /* Subtle rule lines */
    --pullquote-bg: 210 10% 22%;           /* Dark tint for pull-quotes */
    --number-display: 349 89% 65%;         /* Decorative numbers */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', 'Roboto Flex', sans-serif;
  }
}

/* ─── Theme inline utilities for sidebar ─────────────────────────────────── */
@theme inline {
  --color-sidebar: var(--sidebar-background);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/* Hamburger menu animation */
@keyframes hamburger-rotate {
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(180deg);
  }
}

.animate-hamburger-rotate {
  animation: hamburger-rotate 0.5s linear forwards;
}

/* Waveform animation */
@keyframes waveform-pulse {
  0%, 100% {
    transform: scaleY(0.3);
    opacity: 0.7;
  }
  50% {
    transform: scaleY(1);
    opacity: 1;
  }
}
